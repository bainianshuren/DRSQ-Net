# DRSQ-Net Small Configuration (4.2M parameters)
model:
  name: "DRSQ-Net-Small"
  version: "small"
  num_classes: 4
  num_queries: 100
  feature_dim: 256
  img_size: 640
  
  # DPR Module
  dpr:
    hidden_dim: 64
    num_res_blocks: 3
    gamma_range: [0.8, 1.2]
  
  # LGC-Former
  lgc_former:
    local_dim: 256
    global_dim: 256
    mamba_dim: 512
    gate_dim: 64
    num_dynamic_kernels: 32
  
  # DSQ-Head
  dsq_head:
    num_heads: 8
    dropout: 0.1
    hidden_dim: 128

data:
  train_root: "./data/URPC2020/train"
  val_root: "./data/URPC2020/val"
  test_root: "./data/URPC2020/test"
  img_size: 640
  augment: true
  num_workers: 8
  
  # Augmentation parameters
  augmentations:
    mosaic: true
    mixup: 0.5
    hsv_h: 0.015
    hsv_s: 0.7
    hsv_v: 0.4
    degrees: 0.0
    translate: 0.1
    scale: 0.5
    shear: 0.0
    perspective: 0.0
    flipud: 0.0
    fliplr: 0.5

training:
  epochs: 300
  batch_size: 16
  device: "cuda"  # or "cpu"
  
  # Optimizer
  optimizer:
    type: "SGD"
    lr: 0.01
    momentum: 0.937
    weight_decay: 0.0005
    nesterov: true
  
  # Learning rate scheduler
  scheduler:
    type: "cosine"
    warmup_epochs: 5
    warmup_bias_lr: 0.1
  
  # Loss weights
  loss_weights:
    classification: 1.0
    regression: 5.0
    objectness: 2.0
    giou: 2.0
    l1: 5.0
  
  # Checkpoint settings
  save_freq: 10
  save_best: true
  early_stop_patience: 50
  
  # Mixed precision
  amp: true
  gradient_clip: 10.0

evaluation:
  conf_threshold: 0.5
  iou_threshold: 0.5
  max_detections: 300
  save_json: true
  save_txt: false
  
  # Metrics
  metrics:
    - "mAP@0.5"
    - "mAP@0.5:0.95"
    - "precision"
    - "recall"
    - "f1"

logging:
  log_dir: "./runs"
  wandb: false
  wandb_project: "DRSQ-Net"
  wandb_entity: null
  print_freq: 50
  save_images: 10